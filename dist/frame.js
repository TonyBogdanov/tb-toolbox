!function(a){"use strict";return"function"!=typeof a?void alert("Frame requires jQuery."):(function(){for(var a=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),t=Math.max(0,16-(n-a)),i=window.setTimeout(function(){e(n+t)},t);return a=n+t,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),a.fn.frame=function(e,n,t){return a(this).each(function(){var i=a(this);if(null===e&&"function"==typeof n)return requestAnimationFrame.call(this,n),!0;if("object"==typeof e)return a.each(e,function(){i.frame(this,n,t)}),!0;if("function"==typeof e)return requestAnimationFrame.call(this,e),!0;if("undefined"==typeof i.data("frame-callbacks")&&i.data("frame-callbacks",{}),"undefined"==typeof i.data("frame-locks")&&i.data("frame-locks",{}),"string"==typeof e){var r=i.data("frame-callbacks");"undefined"==typeof r[e]&&(r[e]=[],("ready"==e?a(document):i).bind(e,function(e){return function(){a.frame.dispatch(i,e)}}(e))),"function"==typeof n&&r[e].push([n,!1]),!0!==n&&!1!==n||"function"!=typeof t||r[e].push([t,n]),i.data("frame-callbacks",r)}})},a.frame=function(e,n,t){return a(window).frame(e,n,t)},a.frame.dispatch=function(e,n){var t=e.data("frame-locks");t[n]||(t[n]=!0,e.data("frame-locks",t),requestAnimationFrame(function(){var i=e.data("frame-callbacks");"object"==typeof i[n]&&a.each(i[n],function(){this[0].call(e),this[1]&&a.frame.detach(e,n,this[0])}),t=e.data("frame-locks"),t[n]=!1,e.data("frame-locks",t)}))},void(a.frame.detach=function(e,n,t){var i=a(e),r=i.data("frame-callbacks");if("undefined"!=typeof r&&"undefined"!=typeof r[n]){var o=r[n];r[n]=[],a.each(o,function(){this[0]!=t&&r[n].push(this)}),i.data("frame-callbacks",r)}}))}(jQuery);