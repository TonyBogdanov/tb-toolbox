(function(e){"use strict";if("function"!=typeof e){alert("Linking requires jQuery.");return}if("function"!=typeof e.frame){alert("Linking requires Frame.");return}if("function"!=typeof e.fn.scrollToThis){alert("Linking requires ScrollToThis.");return}e(function(){var t=e("body");t[0].hasAttribute("data-linking-disable-null")||t.on("click",'a[href$="#"], a[href$="#!"]',function(e){e.preventDefault()}),t[0].hasAttribute("data-linking-disable-scroll-to")||t.on("click",'a[href*="#!"]:not([href$="#!"])',function(t){var n=e(this),r=n.attr("href").split("#!"),i=function(e){return null===e.match(/^https?:\/\//)&&(e=document.location.protocol.replace(":","")+":/"+document.location.host+"/"+e),e=e.replace(/\/\./,""),e=e.replace(/\/[^\/]+\/\.\./,"/"),e=e.replace(/index\.(php|html)$/i,""),e=e.replace(/\/{2,}/g,"/"),e=e.replace(/(https?:\/)/i,"$1/"),e=e.replace(/^(https?:\/\/[^\/]+)\/?$/i,"$1/"),e},s=function(e,t){e=e.replace(/^\/|\/$/,""),t=t.replace(/^\/|\/$/,"");if(e.split("://")[1]!=t.split("://")[1])return e;var n=e.split("/"),r=t.split("/");for(var i=0;i<n.length;i++)"undefined"!=typeof r[i]&&n[i]==r[i]&&(delete n[i],delete r[i]);var s="";for(i=0;i<r.length;i++){if("undefined"==typeof r[i])continue;s+="../"}var o=!1;for(i=0;i<n.length;i++){if("undefined"==typeof n[i])continue;s+=n[i]+"/",o=!0}return o&&(s=s.substr(0,s.length-1)),s},o=i(document.location.toString()),u=""==r[0]?o:i(r[0]),a=s(u,o);if(0==a.length){t.preventDefault();var f=e("#"+r[1]);0<f.length&&f.scrollToThis()}}),t[0].hasAttribute("data-linking-disable-scroll-to")||e.frame(t[0].hasAttribute("data-linking-auto-scroll-event")?t.attr("data-linking-auto-scroll-event"):"load",function(){var t=document.location.href.split("#!");if(1<t.length&&0<t[1].length){var n=e("#"+t[1]);0<n.length&&n.scrollToThis()}})})})(jQuery);